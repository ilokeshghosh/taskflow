<core:FragmentDefinition
    xmlns:filterbar="sap.ui.comp.filterbar"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:u="sap.ui.unified"
    xmlns:layout="sap.ui.layout"
>
    <Dialog
        id="systemAboutDialog"
        title="About"
        showHeader="false"
        contentHeight="70%"
        contentWidth="70%"

        binding="{/SystemInfo('SYSTEM')}"
    >
        <content>
            <!-- Outter container -->

            <VBox
                width="100%"
                height="100%"
                gap="2rem"
                alignItems="Center"

                
               
            >   
                <!-- upper section -->
                <HBox
                    width="100%"
                    height="20%"
                    class="sapUiSmallMarginTopBottom"
                >
                    <!-- upper content container -->
                    <VBox
                        height="100%"
                        width="100%"
                    >
                        <!-- top || title & description -->
                        <HBox
                            width="100%"
                            height="80%"
                        >
                            <VBox
                                height="100%"
                                width="100%"
                                alignItems="Center"
                            >
                                <HBox
                                    width="100%"
                                    justifyContent="Center"
                                    gap="1rem"
                                    alignItems="Center"
                                >
                                    <Image
                                        width="50px"
                                        height="50px"
                                        src="https://ik.imagekit.io/8fgpvoiai/taskFlow/croppedTaskFlow-removebg-preview_0FgIITQmd.png?updatedAt=1762799794592"
                                    />

                                    <Title text="{applicationName}" />
                                </HBox>

                                <Text text="{tagline}" />
                            </VBox>
                        </HBox>

                        <!-- bottom || chips (version and others) -->
                        <HBox
                            width="100%"
                            height="20%"
                            justifyContent="Center"
                            gap="1rem"
                            wrap="Wrap"
                        >
                            <Button
                                text="Version {version}"
                                type="Ghost"
                            />
                            <Button
                                text="CF: {cloudFoundrySpace}"
                                type="Ghost"
                            />
                            <Button
                                text="Last update: {lastUpdate}"
                                type="Ghost"
                            />
                        </HBox>
                    </VBox>
                </HBox>

                <!-- lower section -->
                <HBox
                    width="90%"
                    height="60%"
                    justifyContent="Center"
                    gap="2rem"
                >
                    <!-- APP INFO -->
                    <VBox
                        width="33%"
                        gap="1rem"
                    >
                        <Title
                            level="H1"
                            text="App Info"
                        />

                        <VBox
                            gap="2rem"
                            justifyContent="Start"
                        >
                            <HBox
                                gap="0.3rem"
                                alignItems="Center"
                                justifyContent="Start"
                            >
                                <core:Icon
                                    size="1.2rem"
                                    src="sap-icon://document-text"
                                />
                                <Text
                                    textAlign="End"
                                    text="Application ID: {applicationID}"
                                />
                            </HBox>

                            <HBox
                                gap="0.3rem"
                                alignItems="Center"
                                justifyContent="Start"
                            >
                                <core:Icon
                                    size="1.2rem"
                                    src="sap-icon://source-code"
                                />
                                <Text
                                    textAlign="End"
                                    text="UI Version: {uiVersion}"
                                />
                            </HBox>

                            <HBox
                                gap="0.3rem"
                                alignItems="Center"
                                justifyContent="Start"
                            >
                                <core:Icon
                                    size="1.2rem"
                                    src="sap-icon://cloud"
                                />
                                <Text text="Subaccount : {btpSubaccount}"></Text>
                            </HBox>

                            <HBox
                                gap="0.3rem"
                                alignItems="Center"
                                justifyContent="Start"
                            >
                                <core:Icon
                                    size="1.2rem"
                                    src="sap-icon://world"
                                />
                                <Text
                                    textAlign="End"
                                    text="Region: Europe (region)"
                                />
                            </HBox>
                        </VBox>
                    </VBox>

                    <!-- System Status -->
                    <VBox
                        width="33%"
                        gap="1rem"
                    >
                        <Title
                            level="H1"
                            text="System Status"
                        />

                        <VBox
                            width="60%"
                            gap="1rem"
                        >
                            <Button
                                width="100%"
                                text="API Gateway · {apiGatewayStatus}"
                                tooltip="API Gateway: Operational · avg latency 120 ms"
                                type="{path:'',formatter:'.formatter.formatSystemStatus'}"
                            />

                            <Button
                                width="100%"
                                text="CAP Service · {capServiceStatus}"
                                tooltip="CAP Service (Projects): Operational · last error: 0 in 24h"
                            />

                            <Button
                                width="100%"
                                text="Database · {databaseStatus}"
                                tooltip="Database (HANA Cloud): Operational · backup: OK"
                            />

                            <Button
                                width="100%"
                                text="Auth · {authStatus}"
                                tooltip="Auth (XSUAA): Operational · token lifetime 12 h"
                            />

                            <Button
                                width="100%"
                                type="{= ${fileStorageStatus}==='Down' ? 'Reject' : ${fileStorageStatus}==='Degraded' ? 'Attention' : 'Default' }"
                                text="File Storage · {fileStorageStatus}"
                                tooltip="File Storage (Documents): Degraded · slow uploads in last hour"
                            />
                        </VBox>
                    </VBox>

                    <!-- Support -->
                    <VBox
                        width="33%"
                        gap="1rem"
                    >
                        <Title
                            level="H1"
                            text="Support"
                        />

                        <VBox
                            gap="2rem"
                            justifyContent="Start"
                        >
                           
                            <Link 
                            icon="sap-icon://education"
                            text="Documentation"
                            target="_blank"
                            href="{documentationUrl}"
                            ></Link>


                            <Link 
                            icon="sap-icon://notes"
                            text="Release Notes"
                            target="_blank"
                            href="{releaseNotesUrl}"
                            ></Link>

                            <Link
                               
                                icon="sap-icon://question-mark"
                                text="Contact Support"
                                href="{contactSupportUrl}"
                                target="_blank"
                            >
                                
                                
                            </Link>
                        </VBox>
                    </VBox>
                </HBox>

                <!-- footer signature text -->
                <HBox height="5%">
                    <Text text="{copyrightText}" />
                </HBox>
            </VBox>
        </content>

        <endButton>
            <Button
                press="onCloseSystemDialog"
                text="Close"
                type="Emphasized"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
